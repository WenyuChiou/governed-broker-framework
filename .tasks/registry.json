{
  "version": "1.1",
  "last_updated": "2026-01-19T14:00:00.000Z",
  "tasks": [
    {
      "id": "task-011",
      "title": "Emergency Bug Fixes (State/Model/Memory)",
      "status": "completed",
      "type": "bug_fix",
      "priority": "critical",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "assigned_to": "antigravity",
      "scope": "run_flood.py, llm_utils.py, memory_engine.py",
      "done_when": "Agent states persist, models parse correctly, and memory initializes from profile.",
      "tests_run": "Manual verification in log distributions",
      "risks": "Low",
      "rollback": "git checkout fix/emergency-bug-fixes-011^",
      "artifacts": "simulation_log.csv",
      "next_step": "Validate large-model re-runs",
      "handoff_file": "handoff/task-011.md"
    },
    {
      "id": "task-012",
      "title": "Core State Persistence Interface",
      "status": "completed",
      "type": "architecture",
      "priority": "high",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "assigned_to": "Claude Code",
      "scope": "agents/base_agent.py, broker/core/experiment.py",
      "done_when": [
        "Completed by Gemini CLI"
      ],
      "tests_run": "none",
      "risks": "Breaking change if scripts rely on direct setattr",
      "rollback": "git revert <commit>",
      "artifacts": "none",
      "next_step": "none",
      "handoff_file": "handoff/task-012.md"
    },
    {
      "id": "task-013",
      "title": "Memory & Reflection Module MA Integration",
      "status": "completed",
      "type": "feature",
      "priority": "high",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "assigned_to": "Claude Code",
      "scope": "run_unified_experiment.py, memory_engine.py, initial_memory.py",
      "description": "Integrate per-agent memory configs and reflection engine for MA system",
      "subtasks": [
        {
          "id": "013-A",
          "title": "Agent Type Memory Config",
          "status": "completed"
        },
        {
          "id": "013-B",
          "title": "Survey data additional fields",
          "status": "completed",
          "assigned_to": "Antigravity",
          "note": "Added mg_criteria_met/zipcode fields to profiles"
        },
        {
          "id": "013-C",
          "title": "Reflection engine integration",
          "status": "completed"
        },
        {
          "id": "013-D",
          "title": "Retrieval strategy selection",
          "status": "completed"
        },
        {
          "id": "013-E",
          "title": "Initial memory loading enhancement",
          "status": "completed"
        }
      ],
      "handoff_file": "handoff/task-013.md"
    },
    {
      "id": "task-014",
      "title": "MA State Persistence Alignment",
      "status": "completed",
      "type": "refactor",
      "priority": "low",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "assigned_to": "Gemini CLI",
      "scope": "examples/multi_agent/run_unified_experiment.py",
      "done_when": "MA post_step uses apply_delta() for state updates",
      "tests_run": "Syntax verified via code modification",
      "risks": "Very low - pure refactor, no logic change",
      "rollback": "git revert <commit>",
      "artifacts": "none",
      "next_step": "none",
      "handoff_file": "handoff/task-014.md"
    },
    {
      "id": "task-015",
      "title": "MA System Comprehensive Verification",
      "status": "completed",
      "type": "verification",
      "priority": "High",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "assigned_to": "Claude Code + Codex",
      "scope": "examples/multi_agent/",
      "done_when": "All 6 verification requirements pass",
      "handoff_file": "handoff/task-015.md",
      "blocker": "none",
      "subtasks": [
        {
          "id": "015-A",
          "title": "Decision diversity verification",
          "status": "completed",
          "assigned_to": "Codex",
          "note": "V1 decision diversity passed (entropy 2.513)"
        },
        {
          "id": "015-B",
          "title": "Elevated state persistence",
          "status": "completed",
          "assigned_to": "Claude Code",
          "note": "V2 bug fixed by Claude Code"
        },
        {
          "id": "015-C",
          "title": "Insurance annual reset",
          "status": "completed",
          "assigned_to": "Claude Code"
        },
        {
          "id": "015-D",
          "title": "Behavior rationality",
          "status": "completed",
          "assigned_to": "Codex",
          "note": "V4 PASS on gemma3:4b prompt-fix run (low_cp_expensive 11.11%, high_tp_action 100%)."
        },
        {
          "id": "015-E",
          "title": "Memory & state logic",
          "status": "completed",
          "assigned_to": "Codex",
          "note": "V5 memory/state passed"
        },
        {
          "id": "015-F",
          "title": "Institutional dynamics",
          "status": "completed",
          "assigned_to": "Gemini CLI",
          "note": "V6 PASS: Gov changes=1 (increase_subsidy), Ins changes=2 (lower_premium x2). Verified from v015_full_bg traces."
        }
      ],
      "note": "V4 and V6 now pass; pending overall sign-off."
    },
    {
      "id": "Task-016",
      "title": "JOH Technical Note Finalization",
      "status": "completed",
      "type": "documentation",
      "owner": "Antigravity",
      "description": "Finalize the single-agent technical note with verified Gemma 3 results and halted DeepSeek findings.",
      "created_at": "2026-01-18T16:05:21.286068Z",
      "subtasks": [
        {
          "id": "016-A",
          "title": "Draft Integration",
          "status": "completed",
          "assigned_to": "Antigravity"
        },
        {
          "id": "016-B",
          "title": "DeepSeek Slowness Analysis",
          "status": "completed",
          "assigned_to": "Antigravity"
        },
        {
          "id": "016-C",
          "title": "Figure Generation",
          "status": "completed",
          "assigned_to": "Antigravity"
        },
        {
          "id": "016-D",
          "title": "Final Submission Polish",
          "status": "completed",
          "assigned_to": "Antigravity"
        }
      ],
      "note": "JOH Technical Note v3.1 completed and committed."
    },
    {
      "id": "Task-017",
      "title": "JOH Stress Testing (Gemma/Llama)",
      "status": "planned",
      "owner": "Antigravity",
      "description": "Execute ST-1 to ST-4 matrix for Gemma 3 and Llama 3.",
      "dependencies": [
        "Task-016"
      ],
      "created_at": "2026-01-18T11:56:20.757616Z",
      "subtasks": [
        {
          "id": "017-A",
          "title": "Script Configuration",
          "status": "pending",
          "assigned_to": "Antigravity"
        },
        {
          "id": "017-B",
          "title": "Gemma 3 Stress Marthon",
          "status": "pending",
          "assigned_to": "Antigravity"
        },
        {
          "id": "017-C",
          "title": "Llama 3 Stress Marathon",
          "status": "pending",
          "assigned_to": "Antigravity"
        },
        {
          "id": "017-D",
          "title": "Analysis & Appendix Update",
          "status": "pending",
          "assigned_to": "Antigravity"
        }
      ]
    },
    {
      "id": "Task-018",
      "title": "MA Experiment Visualization & Analysis",
      "status": "in-progress",
      "type": "visualization",
      "priority": "medium",
      "owner": "antigravity",
      "reviewer": "WenyuChiou",
      "description": "Create visualization charts for agent behavior changes, PMT construct evolution, and scientific analysis",
      "dependencies": [
        "Task-015"
      ],
      "created_at": "2026-01-18T17:00:00.000Z",
      "subtasks": [
        {
          "id": "018-A",
          "title": "Decision Distribution Charts",
          "status": "pending",
          "assigned_to": "Gemini CLI",
          "description": "Yearly decision distribution bar charts, Shannon entropy trend"
        },
        {
          "id": "018-B",
          "title": "PMT-Decision Correlation Heatmap",
          "status": "pending",
          "assigned_to": "Gemini CLI",
          "description": "5x5 heatmap showing PMT constructs vs decision types correlation"
        },
        {
          "id": "018-C",
          "title": "Agent Trajectory Analysis",
          "status": "pending",
          "assigned_to": "Gemini CLI",
          "description": "Individual agent decision timelines, state transition diagrams"
        },
        {
          "id": "018-D",
          "title": "MG Equity Analysis Charts",
          "status": "pending",
          "assigned_to": "Codex",
          "description": "MG vs non-MG adaptation rate comparison, subsidy benefit distribution"
        },
        {
          "id": "018-E",
          "title": "Institutional Policy Impact",
          "status": "pending",
          "assigned_to": "Codex",
          "description": "Government subsidy rate vs elevation adoption, insurance premium vs take-up rate"
        },
        {
          "id": "018-F",
          "title": "PMT Construct Temporal Evolution",
          "status": "pending",
          "assigned_to": "Codex",
          "description": "Line charts showing PMT construct changes over simulation years"
        }
      ],
      "handoff_file": "handoff/task-018.md",
      "note": "UNBLOCKED. Data available at results_unified/v015_fixed_bg/. Ready for visualization."
    },
    {
      "id": "Task-019",
      "title": "MA System Configuration Enhancement",
      "status": "completed",
      "type": "configuration",
      "priority": "high",
      "owner": "Claude Code",
      "reviewer": "WenyuChiou",
      "description": "Enhance MA system config: response format, memory config, gossip, financial constraints",
      "dependencies": [],
      "created_at": "2026-01-18T18:30:00.000Z",
      "subtasks": [
        {
          "id": "019-A",
          "title": "Response Format Correction",
          "status": "done",
          "assigned_to": "Codex",
          "description": "Fix Government/Insurance prompt to list all option names"
        },
        {
          "id": "019-B",
          "title": "Memory Config Block",
          "status": "done",
          "assigned_to": "Codex",
          "description": "Add memory_config, retrieval_config, social_memory_config to YAML"
        },
        {
          "id": "019-C",
          "title": "Financial Constraints",
          "status": "done",
          "assigned_to": "Codex",
          "description": "Implement affordability validation based on income"
        },
        {
          "id": "019-D",
          "title": "Data Cleanup",
          "status": "done",
          "assigned_to": "Codex",
          "description": "Backup and clean old results_unified data"
        }
      ],
      "handoff_file": "handoff/task-019.md",
      "note": "019-A/B/C/D completed; affordability block verified; no old results to clean."
    },
    {
      "id": "Task-020",
      "title": "MA Architecture Improvement (Gemini CLI)",
      "status": "completed",
      "type": "refactor",
      "priority": "high",
      "owner": "Gemini CLI",
      "description": "Major architecture improvements: financial constraint decoupling, unified household psychological evaluation, improved realism, smart_repair parsing",
      "created_at": "2026-01-19T08:00:00.000Z",
      "changes": [
        "Decoupled financial constraints from core validator to pluggable custom validators",
        "Removed preset psychological scores from household agents - now inferred from context",
        "Unified thinking_rules for household_owner and household_renter",
        "Added qualitative flood descriptions instead of precise flood_depth",
        "Enabled smart_repair preprocessor for JSON parsing stability",
        "Designed institutional agent validators (government budget, insurance solvency)"
      ],
      "files_modified": [
        "validators/agent_validator.py",
        "broker/core/skill_broker_engine.py",
        "broker/core/experiment.py",
        "broker/interfaces/skill_types.py",
        "examples/multi_agent/run_unified_experiment.py",
        "examples/multi_agent/ma_agent_types.yaml"
      ]
    }
  ],
  "known_issues": [
    {
      "id": "issue-001",
      "title": "Non-ASCII Path Blocker",
      "description": "Gemini CLI cannot execute file operations due to non-ASCII characters in project path (???\u7aef\u786c?)",
      "affected_agents": [
        "Gemini CLI"
      ],
      "workaround": "Move project to ASCII-only path (e.g., C:\\projects\\gbf)",
      "status": "resolved",
      "resolution": "Project moved to C:\\Users\\wenyu\\Desktop\\Lehigh",
      "reported_by": "Gemini CLI",
      "reported_date": "2026-01-18"
    }
  ]
}