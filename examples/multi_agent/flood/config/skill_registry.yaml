# Flood Multi-Agent Skill Registry
# Defines all available skills across all agent types for the Passaic River Basin ABM.

default_skill: do_nothing

skills:
  # ── Household Owner Skills ──────────────────────────────────────────
  - skill_id: do_nothing
    description: "Take no protective action this year"
    eligible_agent_types: ["household_owner", "household_renter"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes: []
    implementation_mapping: "noop"

  - skill_id: buy_insurance
    description: "Purchase NFIP flood insurance (annual, renewable)"
    eligible_agent_types: ["household_owner"]
    preconditions: []
    institutional_constraints:
      annual: true
      cost_type: "recurring"
    allowed_state_changes:
      - has_insurance
    implementation_mapping: "buy_insurance"

  - skill_id: elevate_house
    description: "Elevate house structure (3ft=$45K, 5ft=$80K, 8ft=$150K before subsidy)"
    eligible_agent_types: ["household_owner"]
    preconditions:
      - "not elevated"
    institutional_constraints:
      once_only: true
      cost_type: "one_time"
    allowed_state_changes:
      - elevated
    implementation_mapping: "elevate_house"
    conflicts_with:
      - buyout_program

  - skill_id: buyout_program
    description: "Accept NJ Blue Acres voluntary buyout (irreversible)"
    eligible_agent_types: ["household_owner"]
    preconditions:
      - "not relocated"
    institutional_constraints:
      once_only: true
      permanent: true
      cost_type: "one_time"
    allowed_state_changes:
      - bought_out
    implementation_mapping: "buyout_program"
    conflicts_with:
      - elevate_house
      - buy_insurance

  # ── Household Renter Skills ─────────────────────────────────────────
  - skill_id: buy_contents_insurance
    description: "Purchase NFIP contents-only flood insurance (annual)"
    eligible_agent_types: ["household_renter"]
    preconditions: []
    institutional_constraints:
      annual: true
      cost_type: "recurring"
    allowed_state_changes:
      - has_contents_insurance
    implementation_mapping: "buy_contents_insurance"

  - skill_id: relocate
    description: "Relocate to lower flood-risk area (irreversible)"
    eligible_agent_types: ["household_renter"]
    preconditions:
      - "not relocated"
    institutional_constraints:
      once_only: true
      permanent: true
      cost_type: "one_time"
    allowed_state_changes:
      - relocated
    implementation_mapping: "relocate"
    conflicts_with:
      - buy_contents_insurance

  # ── Government Skills ───────────────────────────────────────────────
  - skill_id: increase_subsidy
    description: "Increase elevation subsidy rate by 5%"
    eligible_agent_types: ["government", "nj_government"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes:
      - subsidy_rate
    implementation_mapping: "increase_subsidy"

  - skill_id: decrease_subsidy
    description: "Decrease elevation subsidy rate by 5%"
    eligible_agent_types: ["government", "nj_government"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes:
      - subsidy_rate
    implementation_mapping: "decrease_subsidy"

  - skill_id: maintain_subsidy
    description: "Keep current elevation subsidy rate unchanged"
    eligible_agent_types: ["government", "nj_government"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes: []
    implementation_mapping: "maintain_subsidy"

  # ── Insurance (CRS) Skills ─────────────────────────────────────────
  - skill_id: improve_crs
    description: "Improve CRS class — increase community premium discount by 5%"
    eligible_agent_types: ["insurance", "fema_nfip"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes:
      - crs_discount
    implementation_mapping: "improve_crs"

  - skill_id: reduce_crs
    description: "Reduce CRS class — decrease community premium discount by 5%"
    eligible_agent_types: ["insurance", "fema_nfip"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes:
      - crs_discount
    implementation_mapping: "reduce_crs"

  - skill_id: maintain_crs
    description: "Maintain current CRS class and discount level"
    eligible_agent_types: ["insurance", "fema_nfip"]
    preconditions: []
    institutional_constraints: {}
    allowed_state_changes: []
    implementation_mapping: "maintain_crs"